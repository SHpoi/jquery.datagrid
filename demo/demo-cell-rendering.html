<!DOCTYPE html>
<html lang="en">
	<head>
	<meta charset="utf-8">
	<title>jQuery Datagrid Draft</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="description" content="jQuery Datagrid">
	<meta name="author" content="Creative Area">
	
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
	<script src="//netdna.bootstrapcdn.com/bootstrap/3.0.1/js/bootstrap.min.js"></script>
	
	<script type="text/javascript" src="../jquery.datagrid.js"></script>
	<script type="text/javascript" src="../plugins/jquery.datagrid.bootstrap3.js"></script>
	<script type="text/javascript" src="http://labs.creative-area.net/js/prettify.js"></script>
	
	<script type="text/javascript" src="demo.js"></script>
	
	<script type="text/javascript">
	$( document ).ready( function() {

		var dgc = $( "#dg-country" ).datagrid({
			url: "data/demo-simple.php",
			col: [{
				field: "Code",
				title: "Code",
				attrHeader: { "width": "10%" },
				attr: { "style": "text-align: center;" },
				sortable: true
			},{
				field: "Name",
				title: "Name",
				attrHeader: { "width": "25%" },
				sortable: true
			},{
				field: "Population",
				title: "Population",
				attrHeader: { "width": "15%", "style": "text-align: right;" },
				attr: { "style": "text-align: right;" },
				sortable: true,
				render: function( data ) {
					var r = "<span ";
					if ( +data.value == 0) {
						r += "class='label label-warning'";
						data.value = "None";
					} else if ( +data.value > 100000000 ) {
						this.addClass( "success" );
					} else if ( +data.value > 10000000 ) {
						this.addClass( "warning" );
					}
					r += ">";
					if ( +data.value > 1000000 ) {
						r += Math.round(data.value/1000000) + " million";
					} else {
						r += data.value;
					}
					r += "</span>";
					return r;
				}
			},{
				field: "SurfaceArea",
				title: "Surface",
				attrHeader: { "width": "15%", "style": "text-align: right;" },
				attr: { "style": "text-align: right;" },
				sortable: true,
				render: function( data ) {
					return Math.round( data.value ) + " km<sup>2</sup>";
				}
			},{
				field: "SurfaceArea",
				title: "Density",
				attrHeader: { "width": "15%", "style": "text-align: right;" },
				attr: { "style": "text-align: right;" },
				render: function( data ) {
					return ( +data.value > 0 ) ? Math.round( data.row.Population / data.value ) + " p/km<sup>2</sup>" : 'N/A';
				}
			},{
				field: "Continent",
				title: "Continent",
				attrHeader: { "width": "20%" },
				render: { "fa-button" : {
					style: "default",
					size: "xs",
					icon: "plane"
				} },
				sortable: true
			}],
			attr: { "class": "table table-bordered table-condensed" },
			sorter: "bootstrap",
			pager: "bootstrap"
		});

		prettyPrint();
	});
	</script>
	
	<link href="//netdna.bootstrapcdn.com/bootstrap/3.0.1/css/bootstrap.min.css" rel="stylesheet">
	<link href="//netdna.bootstrapcdn.com/font-awesome/4.0.1/css/font-awesome.min.css" rel="stylesheet">
	<link href="http://labs.creative-area.net/css/prettify-ca.css" rel="stylesheet">
	
	<!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
	<!--[if lt IE 9]>
	<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
	
	<style>
	a { cursor: pointer;}
	.dg div span { cursor: pointer;}
	</style>
	</head>
	
	<body>
		<div class="container">
			<h1>jQuery datagrid demo <small>cell rendering</small></h1>
			<div id="dg-country" class="dg"></div>
			<h3>Options used</h3>
			<pre class="prettyprint">{
            url: "data/demo-simple.php",
            col: [{
                field: "Code",
                title: "Code",
                attrHeader: { "width": "10%" },
                attr: { "style": "text-align: center;" },
                sortable: true
            },{
                field: "Name",
                title: "Name",
                attrHeader: { "width": "25%" },
                sortable: true
            },{
                field: "Population",
                title: "Population",
                attrHeader: { "width": "15%", "style": "text-align: right;" },
                attr: { "style": "text-align: right;" },
                sortable: true,
                render: function( data ) {
                    var r = "&lt;span ";
                    if ( +data.value == 0) {
                        r += "class='label label-warning'";
                        data.value = "None";
                    } else if ( +data.value > 100000000 ) {
                        this.addClass( "success" );
                    } else if ( +data.value > 10000000 ) {
                        this.addClass( "warning" );
                    }
                    r += ">";
                    if ( +data.value > 1000000 ) {
                        r += Math.round(data.value/1000000) + " million";
                    } else {
                        r += data.value;
                    }
                    r += "&lt;/span&gt;";
                    return r;
                }
            },{
                field: "SurfaceArea",
                title: "Surface",
                attrHeader: { "width": "15%", "style": "text-align: right;" },
                attr: { "style": "text-align: right;" },
                sortable: true,
                render: function( data ) {
                    return Math.round( data.value ) + " km&lt;sup&gt;2&lt;/sup&gt;";
                }
            },{
                field: "SurfaceArea",
                title: "Density",
                attrHeader: { "width": "15%", "style": "text-align: right;" },
                attr: { "style": "text-align: right;" },
                render: function( data ) {
                    return ( +data.value > 0 ) ? Math.round( data.row.Population / data.value ) + " p/km&lt;sup&gt;2&lt;/sup&gt;" : 'N/A';
                }
            },{
                field: "Continent",
                title: "Continent",
                attrHeader: { "width": "20%" },
                render: { "fa-button" : {
                    style: "default",
                    size: "xs",
                    icon: "plane"
                } },
                sortable: true
            }],
            attr: { "class": "table table-bordered table-condensed" },
            sorter: "bootstrap",
            pager: "bootstrap"
}</pre>
		</div>
	</body>
</html>